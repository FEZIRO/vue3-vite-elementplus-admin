var t=Object.defineProperty,e=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable,o=(e,a,r)=>a in e?t(e,a,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[a]=r,i=(t,i)=>{for(var n in i||(i={}))a.call(i,n)&&o(t,n,i[n]);if(e)for(var n of e(i))r.call(i,n)&&o(t,n,i[n]);return t};import{g as n}from"./index.710eea4b.js";import{r as s,I as l}from"./vendor.f21cd016.js";function g(t){if("function"!=typeof t&&"Promise"!==n(t))throw new Error("请传入Promise类型的api请求");const e=[20,50,100],a={list:[],totalCount:0,isLoading:!1,currentPage:1,pageSize:e[0]};let r=s({list:a.list,totalCount:a.totalCount,isLoading:a.isLoading}),o={currentPage:a.currentPage,pageSize:a.pageSize};const g=async()=>{r.isLoading=!0;let e=await t(o).catch((t=>{r.isLoading=!1}));e?(r.isLoading=!1,r.list=e.list,r.totalCount=e.totalCount):l.error("数据获取失败！")};return{PAGE_SIZES:e,tableData:r,tableParams:o,setParams:(t={})=>{o=i(i({},o),t),g()},reset:()=>{r.list=a.list,r.totalCount=a.totalCount,r.isLoading=a.isLoading,o={currentPage:a.currentPage,pageSize:a.pageSize},g()},refresh:()=>{g()}}}export{g as u};
